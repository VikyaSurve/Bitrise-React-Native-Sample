default_platform(:android)

platform :android do
  desc "Bump version code and version name"
  lane :bump_version do
    version_code = get_version_code(
      gradle_file_path: "./app/build.gradle"
    )
    version_name = get_version_name(
      gradle_file_path: "./app/build.gradle"
    )

    increment_version_code(
      gradle_file_path: "./app/build.gradle"
    )

    increment_version_name(
      gradle_file_path: "./app/build.gradle",
      version_name: "#{version_name}.#{version_code}"
    )

    commit_version_bump(
      message: "Version bump to #{version_name}.#{version_code}",
      xcodeproj: nil,
    )
  end
end
